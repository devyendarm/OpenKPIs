"use strict";(self.webpackChunkopenkpis=self.webpackChunkopenkpis||[]).push([[8746],{7494:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"purchase","title":"purchase","description":"Captures the completion of a successful purchase or order transaction. It\u2019s the key macro-conversion event for revenue tracking funnel analysis and customer lifetime value.","source":"@site/docs/events/purchase.mdx","sourceDirName":".","slug":"/purchase","permalink":"/OpenKPIs/events/purchase","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"purchase","title":"purchase","description":"Captures the completion of a successful purchase or order transaction. It\u2019s the key macro-conversion event for revenue tracking funnel analysis and customer lifetime value.","tags":[],"slug":"/purchase","toc_min_heading_level":2,"toc_max_heading_level":4,"hide_table_of_contents":false},"sidebar":"sidebar","previous":{"title":"product_view","permalink":"/OpenKPIs/events/productview"}}');var i=r(4848),o=r(8453);const a={id:"purchase",title:"purchase",description:"Captures the completion of a successful purchase or order transaction. It\u2019s the key macro-conversion event for revenue tracking funnel analysis and customer lifetime value.",tags:[],slug:"/purchase",toc_min_heading_level:2,toc_max_heading_level:4,hide_table_of_contents:!1},s=void 0,c={},l=[];function d(n){const e={code:"code",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{children:'\n    /* Professional H1 styling */\n    h1 {\n      font-family: "Roboto", "Helvetica", "Arial", sans-serif !important;\n      font-size: 1.75rem !important;\n      font-weight: 500 !important;\n      line-height: 1.3 !important;\n      margin-bottom: 1rem !important;\n      color: var(--ifm-heading-color) !important;\n    }\n    \n    /* Soft background for docs pages - respects dark mode */\n    .main-wrapper {\n      background: var(--ifm-background-color) !important;\n    }\n    \n    /* Light mode specific background */\n    [data-theme=\'light\'] .main-wrapper {\n      background: #fafbfc !important;\n    }\n    \n    /* Dark mode specific background */\n    [data-theme=\'dark\'] .main-wrapper {\n      background: var(--ifm-background-color) !important;\n    }\n    \n    /* Material UI sections with proper dark mode support */\n    .mui-section {\n      margin: 2rem 0;\n      padding: 1.5rem;\n      background: var(--ifm-color-emphasis-50);\n      border-radius: 8px;\n      box-shadow: 0px 2px 4px rgba(0,0,0,0.1);\n      border-left: 4px solid var(--ifm-color-primary);\n      transition: all 0.3s ease;\n    }\n    \n    /* Light mode sections */\n    [data-theme=\'light\'] .mui-section {\n      background: #ffffff;\n      box-shadow: 0px 2px 4px rgba(0,0,0,0.1);\n      border-left-color: var(--ifm-color-primary);\n    }\n    \n    /* Dark mode sections */\n    [data-theme=\'dark\'] .mui-section {\n      background: var(--ifm-color-emphasis-100);\n      box-shadow: 0px 2px 4px rgba(0,0,0,0.3);\n      border-left-color: var(--ifm-color-primary);\n    }\n    \n    .mui-section h2 {\n      font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n      font-size: 1.25rem;\n      font-weight: 500;\n      color: var(--ifm-color-primary);\n      margin: 0 0 1rem 0;\n      line-height: 1.3;\n    }\n    \n    .mui-field {\n      margin: 1rem 0;\n      padding: 0.75rem;\n      background: var(--ifm-color-emphasis-100);\n      border-radius: 4px;\n      border-left: 3px solid var(--ifm-color-emphasis-300);\n      transition: all 0.3s ease;\n    }\n    \n    /* Light mode fields */\n    [data-theme=\'light\'] .mui-field {\n      background: #fafafa;\n      border-left-color: #e0e0e0;\n    }\n    \n    /* Dark mode fields */\n    [data-theme=\'dark\'] .mui-field {\n      background: var(--ifm-color-emphasis-200);\n      border-left-color: var(--ifm-color-emphasis-400);\n    }\n    \n    .mui-field-label {\n      font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n      font-size: 0.875rem;\n      font-weight: 600;\n      color: var(--ifm-color-primary);\n      margin-bottom: 0.5rem;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n    }\n    \n    .mui-field-value {\n      font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n      font-size: 1rem;\n      line-height: 1.6;\n      color: var(--ifm-font-color-base);\n      margin: 0;\n    }\n    \n    .mui-code-block {\n      background: var(--ifm-code-background);\n      border: 1px solid var(--ifm-color-emphasis-300);\n      border-radius: 4px;\n      padding: 1rem;\n      margin: 1rem 0;\n      font-family: "Roboto Mono", "Monaco", "Consolas", monospace;\n      font-size: 0.875rem;\n      line-height: 1.5;\n      overflow-x: auto;\n      white-space: pre-wrap;\n      transition: all 0.3s ease;\n    }\n    \n    .mui-code-label {\n      font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n      font-size: 0.75rem;\n      font-weight: 500;\n      color: var(--ifm-color-emphasis-600);\n      margin-bottom: 0.5rem;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n    }\n    \n    .mui-overview {\n      font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n      font-size: 1rem;\n      line-height: 1.6;\n      color: var(--ifm-font-color-base);\n      margin: 1rem 0;\n    }\n    \n    /* Professional Left Navigation Styling - Apply to all pages */\n    .theme-doc-sidebar-container,\n    .theme-doc-sidebar-container .theme-doc-sidebar-menu {\n      background: var(--ifm-background-color) !important;\n      border-right: 1px solid var(--ifm-color-emphasis-200) !important;\n      font-family: "Roboto", "Helvetica", "Arial", sans-serif !important;\n      font-size: 0.875rem !important;\n      line-height: 1.5 !important;\n    }\n    \n    /* Apply to all menu links */\n    .theme-doc-sidebar-menu .menu__link,\n    .menu__link {\n      font-family: "Roboto", "Helvetica", "Arial", sans-serif !important;\n      font-size: 0.875rem !important;\n      font-weight: 400 !important;\n      color: var(--ifm-font-color-base) !important;\n      padding: 0.5rem 1rem !important;\n      border-radius: 4px !important;\n      margin: 0.125rem 0 !important;\n      transition: all 0.2s ease !important;\n    }\n    \n    .theme-doc-sidebar-menu .menu__link:hover,\n    .menu__link:hover {\n      background: var(--ifm-color-emphasis-100) !important;\n      color: var(--ifm-color-primary) !important;\n    }\n    \n    .theme-doc-sidebar-menu .menu__link--active,\n    .menu__link--active {\n      background: var(--ifm-color-primary) !important;\n      color: white !important;\n      font-weight: 500 !important;\n    }\n    \n    .theme-doc-sidebar-menu .menu__list-item-collapsible > .menu__link,\n    .menu__list-item-collapsible > .menu__link {\n      font-weight: 500 !important;\n      color: var(--ifm-color-emphasis-700) !important;\n    }\n    \n    /* Scrollable left navigation */\n    .theme-doc-sidebar-container .theme-doc-sidebar-menu {\n      max-height: calc(100vh - 120px) !important;\n      overflow-y: auto !important;\n      overflow-x: hidden !important;\n      padding-right: 0.5rem !important;\n    }\n    \n    .theme-doc-sidebar-container .theme-doc-sidebar-menu::-webkit-scrollbar {\n      width: 6px !important;\n    }\n    \n    .theme-doc-sidebar-container .theme-doc-sidebar-menu::-webkit-scrollbar-track {\n      background: var(--ifm-color-emphasis-100) !important;\n      border-radius: 3px !important;\n    }\n    \n    .theme-doc-sidebar-container .theme-doc-sidebar-menu::-webkit-scrollbar-thumb {\n      background: var(--ifm-color-emphasis-300) !important;\n      border-radius: 3px !important;\n    }\n    \n    .theme-doc-sidebar-container .theme-doc-sidebar-menu::-webkit-scrollbar-thumb:hover {\n      background: var(--ifm-color-emphasis-400) !important;\n    }\n    \n    /* Right Rail Table of Contents - Force visibility */\n    .table-of-contents {\n      display: block !important;\n      visibility: visible !important;\n      opacity: 1 !important;\n      position: sticky !important;\n      top: 2rem !important;\n      max-height: calc(100vh - 4rem) !important;\n      overflow-y: auto !important;\n      font-family: "Roboto", "Helvetica", "Arial", sans-serif !important;\n      font-size: 0.875rem !important;\n      line-height: 1.5 !important;\n      background: var(--ifm-background-color) !important;\n      border: 1px solid var(--ifm-color-emphasis-200) !important;\n      border-radius: 8px !important;\n      padding: 1rem !important;\n      box-shadow: 0px 2px 4px rgba(0,0,0,0.1) !important;\n      width: 100% !important;\n      margin-top: 2rem !important;\n    }\n    \n    /* Ensure TOC container is visible */\n    .col--3 {\n      display: block !important;\n      visibility: visible !important;\n      opacity: 1 !important;\n    }\n    \n    /* Force TOC to show on all pages */\n    .theme-doc-markdown .col--3 {\n      display: block !important;\n      visibility: visible !important;\n      opacity: 1 !important;\n    }\n    \n    .table-of-contents__link {\n      font-family: "Roboto", "Helvetica", "Arial", sans-serif !important;\n      font-size: 0.875rem !important;\n      font-weight: 400 !important;\n      color: var(--ifm-font-color-base) !important;\n      text-decoration: none !important;\n      display: block !important;\n      padding: 0.375rem 0.75rem !important;\n      margin: 0.125rem 0 !important;\n      border-radius: 4px !important;\n      transition: all 0.2s ease !important;\n    }\n    \n    .table-of-contents__link:hover {\n      background: var(--ifm-color-emphasis-100) !important;\n      color: var(--ifm-color-primary) !important;\n    }\n    \n    .table-of-contents__link--active {\n      background: var(--ifm-color-primary) !important;\n      color: white !important;\n      font-weight: 500 !important;\n    }\n    \n    .table-of-contents__link--depth-2 {\n      padding-left: 1rem !important;\n    }\n    \n    .table-of-contents__link--depth-3 {\n      padding-left: 1.5rem !important;\n    }\n    \n    .table-of-contents__link--depth-4 {\n      padding-left: 2rem !important;\n    }\n    \n    /* Ensure TOC title is styled properly */\n    .table-of-contents__title {\n      font-family: "Roboto", "Helvetica", "Arial", sans-serif !important;\n      font-size: 0.875rem !important;\n      font-weight: 600 !important;\n      color: var(--ifm-color-emphasis-700) !important;\n      margin-bottom: 0.75rem !important;\n      text-transform: uppercase !important;\n      letter-spacing: 0.5px !important;\n    }\n    \n    /* Professional spacing for better readability */\n    .main-wrapper .container {\n      padding-top: 2rem;\n      padding-bottom: 2rem;\n    }\n    \n    /* Ensure proper vertical layout */\n    .theme-doc-markdown {\n      display: block !important;\n    }\n    \n    .theme-doc-markdown .col {\n      display: block !important;\n      width: 100% !important;\n    }\n    \n    .theme-doc-markdown .col--3 {\n      display: block !important;\n      width: 100% !important;\n      max-width: none !important;\n    }\n    \n    /* Ensure sections stack vertically */\n    .mui-section {\n      display: block !important;\n      width: 100% !important;\n      margin: 2rem 0 !important;\n    }\n  '}),"\n",(0,i.jsxs)("div",{class:"mui-section",children:[(0,i.jsx)("h2",{children:"Overview"}),(0,i.jsx)("div",{class:"mui-overview",children:"Captures the completion of a successful purchase or order transaction. It\u2019s the key macro-conversion event for revenue tracking funnel analysis and customer lifetime value."})]}),"\n",(0,i.jsxs)("div",{class:"mui-section",children:[(0,i.jsx)("h2",{children:"Platform Implementation"}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"GA4"}),": ",(0,i.jsx)(e.code,{children:"purchase"})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Adobe Analytics"}),": ",(0,i.jsx)(e.code,{children:"commerce.purchases"})]}),"\n"]})]}),"\n",(0,i.jsxs)("div",{class:"mui-section",children:[(0,i.jsx)("h2",{children:"Event Details"}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Event Type"}),": Conversion / Commerce"]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Trigger"}),": Fired after successful checkout confirmation (order success page or transaction API confirmation)."]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Source"}),": Website / Mobile App / POS"]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Event Time"}),": Timestamp of completed order (ISO 8601)"]})]}),"\n",(0,i.jsxs)("div",{class:"mui-section",children:[(0,i.jsx)("h2",{children:"Platform Mappings"}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"GA4 Event Name"}),": purchase"]}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"GA4 Params Map"})}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:" transaction_id: order_id, value: total_value, currency: currency, tax: tax_amount, shipping: shipping_cost, coupon: coupon_code, items: product_list \n"})}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Adobe XDM Event Type"}),": commerce.purchases"]}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Adobe XDM Map"})}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:" commerce.order.purchaseID: order_id, commerce.order.priceTotal: total_value, commerce.order.currencyCode: currency, commerce.productListItems[].SKU: product_id \n"})}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Adobe ACDL Event"}),": purchase"]}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Adobe ACDL Map"})}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:" order:  id: order_id, total: total_value, currencyCode: currency, paymentMethod: payment_method , product: [ sku: product_id, quantity: quantity, price: price ] \n"})})]}),"\n",(0,i.jsxs)("div",{class:"mui-section",children:[(0,i.jsx)("h2",{children:"Data Requirements"}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Required Fields"}),": order_id, total_value, currency, product_list"]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Generic Context Required"}),": order_id, user_id, total_value, currency, payment_method, product_list, items_count"]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Generic Context Optional"}),": discount_amount, tax_amount, shipping_cost, coupon_code, delivery_type, transaction_status, loyalty_points_earned"]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"XDM Field Groups"}),": commerce.purchases, order, productListItems, identityMap, web.webPageDetails"]})]}),"\n",(0,i.jsxs)("div",{class:"mui-section",children:[(0,i.jsx)("h2",{children:"Analytics Integration"}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Primary KPIs"}),": Orders, Revenue, Conversion Rate"]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Secondary KPIs"}),": Average Order Value, Units per Transaction, Repeat Purchase Rate"]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Metrics Used"}),": orders_count, revenue, aov, unique_buyers"]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Dimensions Used"}),": order_id, user_id, device_type, traffic_source, region"]})]}),"\n",(0,i.jsxs)("div",{class:"mui-section",children:[(0,i.jsx)("h2",{children:"JSON Examples"}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Example Generic JSON"})}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'json  "event": "purchase", "timestamp": "2025-10-07T19:10:00Z", "order":  "id": "ORD123456", "total": 350.72, "currency": "USD", "payment_method": "Credit Card", "items_count": 3 , "products": [ "id": "SKU-001", "name": "Wireless Mouse", "price": 25.00, "quantity": 2 ,  "id": "SKU-002", "name": "USB-C Hub", "price": 100.00, "quantity": 1 ] \n'})}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Example GA4 JSON"})}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'json  "event_name": "purchase", "params":  "transaction_id": "ORD123456", "value": 350.72, "currency": "USD", "payment_type": "Credit Card", "items": [ "item_id": "SKU-001", "quantity": 2 ,  "item_id": "SKU-002", "quantity": 1 ]  \n'})}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Example XDM JSON"})}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'json  "eventType": "commerce.purchases", "commerce":  "order":  "purchaseID": "ORD123456", "priceTotal": 350.72, "currencyCode": "USD" , "productListItems": [ "SKU": "SKU-001", "quantity": 2, "priceTotal": 50.00 ,  "SKU": "SKU-002", "quantity": 1, "priceTotal": 100.00 ] , "timestamp": "2025-10-07T19:10:00Z" \n'})}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Example ACDL JSON"})}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'json  "eventInfo":  "eventName": "purchase" , "order":  "id": "ORD123456", "total": 350.72, "currencyCode": "USD", "paymentMethod": "Credit Card" , "product": [ "sku": "SKU-001", "price": 25.00, "quantity": 2 ,  "sku": "SKU-002", "price": 100.00, "quantity": 1 ] \n'})})]}),"\n",(0,i.jsxs)("div",{class:"mui-section",children:[(0,i.jsx)("h2",{children:"Configuration"}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Frequency Limit"}),": One per confirmed order"]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"PII Risk"}),": Medium (if personal info included; anonymize or hash PII)"]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Data Sensitivity"}),": Medium"]})]}),"\n",(0,i.jsxs)("div",{class:"mui-section",children:[(0,i.jsx)("h2",{children:"Documentation"}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Calculation Notes"}),": Ensure fired only after confirmed purchase; exclude pre-checkout or declined payments. Always match sum of product subtotals to total value."]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Contributed By"}),": Devyendar Maganti"]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Owner"}),": Digital Analytics Team / Data Engineering"]})]}),"\n",(0,i.jsxs)("div",{class:"mui-section",children:[(0,i.jsx)("h2",{children:"Governance"}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Validation Status"}),": Not validated"]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Status"}),": Active"]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Version"}),": v1.0"]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Last Updated"}),": 2025-10-08 19:10:51.430000"]})]})]})}function m(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>a,x:()=>s});var t=r(6540);const i={},o=t.createContext(i);function a(n){const e=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);